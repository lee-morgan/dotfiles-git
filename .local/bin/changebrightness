#!/bin/sh

# Use brillo to logarithmically adjust laptop screen brightness
# and send a notification displaying the current brightness level after.

send_notification() {
	brightness=$(brightnessctl get)
	brightnessmax=$(brightnessctl max)
	level=$(($brightness/$brightnessmax) * 100)
	#dunstify -a "changebrightness" -u low -r 9991 -h int:value:"$brightness" -i "brightness-$1" "Brightness: (($brightness / $brightnessmax) * 100)%" -t 2000
	dunstify -a "changebrightness" -u low -r 9991 -h int:value:"$brightness" -i "brightness-$1" -t 2000
}

case $1 in
up)
	brightnessctl set +10%
	send_notification "$1"
	;;
down)
	brightnessctl set 10%-
	send_notification "$1"
	;;
esac
